<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal HUB - Transa√ß√µes</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/transactions.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <div class="logo-icon">üè¢</div>
                <span>Portal HUB</span>
            </div>
            
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-link">Dashboard</a>
                <a href="catalog.html" class="nav-link">Cat√°logo</a>
                <a href="transactions.html" class="nav-link active">Transa√ß√µes</a>
                <a href="company-register.html" class="nav-link">Cadastrar Empresa</a>
            </div>
            
            <div class="nav-user">
                <span id="userName">Usu√°rio</span>
                <button onclick="logout()" class="btn-logout">Sair</button>
            </div>
        </div>
    </nav>
    
    <main class="main-content">
        <div class="container">
            <div class="page-header">
                <h1>Hist√≥rico de Transa√ß√µes</h1>
                <p>Acompanhe todas as suas transa√ß√µes no Portal HUB</p>
            </div>
            
            <div class="transactions-summary">
                <div class="summary-card">
                    <div class="summary-icon">üí∞</div>
                    <div class="summary-content">
                        <h3 id="totalSpent">R$ 0,00</h3>
                        <p>Total Gasto</p>
                    </div>
                </div>
                
                <div class="summary-card">
                    <div class="summary-icon">üìà</div>
                    <div class="summary-content">
                        <h3 id="totalSaved">R$ 0,00</h3>
                        <p>Total Economizado</p>
                    </div>
                </div>
                
                <div class="summary-card">
                    <div class="summary-icon">üõí</div>
                    <div class="summary-content">
                        <h3 id="totalTransactions">0</h3>
                        <p>Transa√ß√µes</p>
                    </div>
                </div>
                
                <div class="summary-card">
                    <div class="summary-icon">üìä</div>
                    <div class="summary-content">
                        <h3 id="avgDiscount">0%</h3>
                        <p>Desconto M√©dio</p>
                    </div>
                </div>
            </div>
            
            <div class="transactions-controls">
                <div class="filters">
                    <select id="statusFilter" onchange="filterTransactions()">
                        <option value="">Todos os Status</option>
                        <option value="completed">Conclu√≠da</option>
                        <option value="pending">Pendente</option>
                        <option value="cancelled">Cancelada</option>
                    </select>
                    
                    <select id="periodFilter" onchange="filterTransactions()">
                        <option value="">Todos os Per√≠odos</option>
                        <option value="today">Hoje</option>
                        <option value="week">Esta Semana</option>
                        <option value="month">Este M√™s</option>
                        <option value="year">Este Ano</option>
                    </select>
                    
                    <input type="text" id="searchTransaction" placeholder="Buscar transa√ß√£o..." onkeyup="searchTransactions()">
                    
                    <button onclick="clearFilters()" class="btn-clear">Limpar Filtros</button>
                </div>
                
                <div class="export-options">
                    <button onclick="exportTransactions('pdf')" class="btn-export">üìÑ Exportar PDF</button>
                    <button onclick="exportTransactions('csv')" class="btn-export">üìä Exportar CSV</button>
                </div>
            </div>
            
            <div class="transactions-table">
                <div class="table-header">
                    <div class="header-cell">Data</div>
                    <div class="header-cell">Produto/Servi√ßo</div>
                    <div class="header-cell">Empresa</div>
                    <div class="header-cell">Valor Original</div>
                    <div class="header-cell">Desconto</div>
                    <div class="header-cell">Valor Final</div>
                    <div class="header-cell">Status</div>
                    <div class="header-cell">A√ß√µes</div>
                </div>
                
                <div id="transactionsList" class="transactions-list">
                    <!-- Transa√ß√µes ser√£o carregadas aqui -->
                </div>
            </div>
            
            <div id="noTransactions" class="no-transactions" style="display: none;">
                <div class="no-transactions-icon">üìã</div>
                <h3>Nenhuma transa√ß√£o encontrada</h3>
                <p>Voc√™ ainda n√£o realizou nenhuma transa√ß√£o ou n√£o h√° resultados para os filtros aplicados</p>
                <button onclick="location.href='catalog.html'" class="btn-primary">Explorar Cat√°logo</button>
            </div>
            
            <div class="pagination" id="pagination">
                <!-- Pagina√ß√£o ser√° inserida aqui -->
            </div>
        </div>
    </main>
    
    <!-- Modal Detalhes da Transa√ß√£o -->
    <div id="transactionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Detalhes da Transa√ß√£o</h2>
                <button onclick="closeTransactionModal()" class="btn-close">√ó</button>
            </div>
            
            <div class="transaction-details">
                <div class="detail-section">
                    <h4>Informa√ß√µes Gerais</h4>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <label>ID da Transa√ß√£o:</label>
                            <span id="modalTransactionId"></span>
                        </div>
                        <div class="detail-item">
                            <label>Data:</label>
                            <span id="modalTransactionDate"></span>
                        </div>
                        <div class="detail-item">
                            <label>Status:</label>
                            <span id="modalTransactionStatus" class="status-badge"></span>
                        </div>
                    </div>
                </div>
                
                <div class="detail-section">
                    <h4>Produto/Servi√ßo</h4>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <label>Nome:</label>
                            <span id="modalProductName"></span>
                        </div>
                        <div class="detail-item">
                            <label>Empresa:</label>
                            <span id="modalCompanyName"></span>
                        </div>
                        <div class="detail-item">
                            <label>Categoria:</label>
                            <span id="modalProductCategory"></span>
                        </div>
                    </div>
                </div>
                
                <div class="detail-section">
                    <h4>Valores</h4>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <label>Valor Original:</label>
                            <span id="modalOriginalPrice"></span>
                        </div>
                        <div class="detail-item">
                            <label>Desconto HUB:</label>
                            <span id="modalDiscount"></span>
                        </div>
                        <div class="detail-item">
                            <label>Valor Final:</label>
                            <span id="modalFinalPrice" class="final-price"></span>
                        </div>
                        <div class="detail-item">
                            <label>Economia:</label>
                            <span id="modalSavings" class="savings"></span>
                        </div>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button onclick="closeTransactionModal()" class="btn-secondary">Fechar</button>
                    <button onclick="downloadReceipt()" class="btn-primary">üìÑ Baixar Comprovante</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/transactions.js"></script>
</body>
</html>